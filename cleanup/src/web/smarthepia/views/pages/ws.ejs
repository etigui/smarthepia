<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Socket.io</title>
</head>

<body>
<h1>Communicating with socket .io!</h1>
    <p><input type="button" value="Poke the server" id="poke" /></p>
</body>

<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>

<script>

    setInterval(doSomething, 3000);

    var socket = io.connect('http://192.168.1.122:3000');
    socket.on('message', function(message) {
        alert('The server has a message for you: ' + message);
    })

    $('#poke').click(function () {
        var json = '{ "name": "John Doe", "age": 42 }';
        socket.emit('message', json);
    })

    function doSomething() {

        var json = '{ "name": "John Doe", "age": 42 }';
        socket.emit('message', json);
    }

</script>
</html>